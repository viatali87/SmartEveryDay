@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{
    ViewBag.Title = "UserProfile";
}
<script src="https://code.jquery.com/jquery-1.8.3.min.js"></script>
<PackageReference Include="Newtonsoft.Json" Version="9.0.1" />
<h2>Profile</h2>
<form action"" name="countryReg">
    <label for="Country">Country</label>
    <input type="text" name="countryName" id="countryName" placeholder="Write country here" />
</form>
<button id="submitbutton">Click me</button>

<script type="text/javascript">

    $(document).ready(function () {

        function saveCountry() {
            //var val = JSON.stringify('{ "country": "Japan"}');
            //var val = JSON.parse('{ "country": "Japan"}');
            //var mylist = List<KeyValuePair<K,V>>;
            var myDictionary = {
                "firstname" : "Kimbo",
                "lastname" : "Dublolingur",
                "phonenumber" : "44444444",
                "houseid": "CE61F280-E5F7-45A4-904A-0D2E02EE6A78",
                "username" : "ko",
                "email" : "ko@gmail.com",
                "isadmin" : "false"
            };

            var val = JSON.stringify(myDictionary);
            console.log("String: " + val);

            $.ajax({
                type: "POST",
                url: "/User/createUser",
                data: { val }
            }).done(function (response) {
                var res = response;
                alert("Response: " + res);
            }).fail(function (response) {
                console.log("Ajax failed")
            })
        } // End of save country

        document.getElementById("submitbutton").addEventListener("click", saveCountry);


    } // Document ready ends
    );
</script>
